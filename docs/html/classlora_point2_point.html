<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Remote Ocean Acidification Monitor: loraPoint2Point Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Remote Ocean Acidification Monitor
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">Arduino library to interface with SeapHOx and CO2-Pro CV oceanographic sensors, supporting lora point to point telemetry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classlora_point2_point-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">loraPoint2Point Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class handling LoRa point to point communication using the RFM95 radio module.  
 <a href="classlora_point2_point.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lora_point2_point_protocol_8h_source.html">loraPoint2PointProtocol.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3c57795d788088f1f26ea23db1408dbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a3c57795d788088f1f26ea23db1408dbd">loraPoint2Point</a> (uint8_t const _thisAddress, uint8_t const rfm95CS, uint8_t const rfm95Int, uint8_t const rfm95Rst, <a class="el" href="structuser_callbacks__t.html">userCallbacks_t</a> const &amp;userCallbacks)</td></tr>
<tr class="memdesc:a3c57795d788088f1f26ea23db1408dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a> object.  <a href="classlora_point2_point.html#a3c57795d788088f1f26ea23db1408dbd">More...</a><br /></td></tr>
<tr class="separator:a3c57795d788088f1f26ea23db1408dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c642b9e9841eba2caf3f4569ccc944"><td class="memItemLeft" align="right" valign="top">float const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#ae5c642b9e9841eba2caf3f4569ccc944">getPacketErrorFraction</a> ()</td></tr>
<tr class="memdesc:ae5c642b9e9841eba2caf3f4569ccc944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the fraction of data messages that have failed to receive an acknowlegement from their intended destination.  <a href="classlora_point2_point.html#ae5c642b9e9841eba2caf3f4569ccc944">More...</a><br /></td></tr>
<tr class="separator:ae5c642b9e9841eba2caf3f4569ccc944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b3fd74144e00d789e74311c4f2418c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a48b3fd74144e00d789e74311c4f2418c">getLastAckSNR</a> ()</td></tr>
<tr class="memdesc:a48b3fd74144e00d789e74311c4f2418c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the signal to noise ratio of the last received radio transmission.  <a href="classlora_point2_point.html#a48b3fd74144e00d789e74311c4f2418c">More...</a><br /></td></tr>
<tr class="separator:a48b3fd74144e00d789e74311c4f2418c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786f2c15682635bde05010abf95dd69d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a786f2c15682635bde05010abf95dd69d">getSpreadingfactor</a> ()</td></tr>
<tr class="memdesc:a786f2c15682635bde05010abf95dd69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the radio's current spreading factor setting.  <a href="classlora_point2_point.html#a786f2c15682635bde05010abf95dd69d">More...</a><br /></td></tr>
<tr class="separator:a786f2c15682635bde05010abf95dd69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada23cb027980432f0f7cb7e40228d58d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#ada23cb027980432f0f7cb7e40228d58d">getSignalBandwidth</a> ()</td></tr>
<tr class="memdesc:ada23cb027980432f0f7cb7e40228d58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the radio's current signal bandwidth setting.  <a href="classlora_point2_point.html#ada23cb027980432f0f7cb7e40228d58d">More...</a><br /></td></tr>
<tr class="separator:ada23cb027980432f0f7cb7e40228d58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654b426de814eaa2f441d693f9a9e06c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a654b426de814eaa2f441d693f9a9e06c">getFrequencyChannel</a> ()</td></tr>
<tr class="memdesc:a654b426de814eaa2f441d693f9a9e06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the radio's current frequency channel setting.  <a href="classlora_point2_point.html#a654b426de814eaa2f441d693f9a9e06c">More...</a><br /></td></tr>
<tr class="separator:a654b426de814eaa2f441d693f9a9e06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc9297c7b7fe3639f69b9015c80839f"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#affc9297c7b7fe3639f69b9015c80839f">getTxPower</a> ()</td></tr>
<tr class="memdesc:affc9297c7b7fe3639f69b9015c80839f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the radio's current transmission power setting.  <a href="classlora_point2_point.html#affc9297c7b7fe3639f69b9015c80839f">More...</a><br /></td></tr>
<tr class="separator:affc9297c7b7fe3639f69b9015c80839f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5ddfecd154a54fbce644e6f3c9a1c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a2f5ddfecd154a54fbce644e6f3c9a1c3">setupRadio</a> ()</td></tr>
<tr class="memdesc:a2f5ddfecd154a54fbce644e6f3c9a1c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the radio and manager to default settings for US915. <em>Make sure to call this once in the application's setup function!</em>  <a href="classlora_point2_point.html#a2f5ddfecd154a54fbce644e6f3c9a1c3">More...</a><br /></td></tr>
<tr class="separator:a2f5ddfecd154a54fbce644e6f3c9a1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ab6cbc670fb53cad929b3201a7d277"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a54ab6cbc670fb53cad929b3201a7d277">setFrequencyChannel</a> (<a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a> <a class="el" href="_lo_ra_range_test___base_8ino.html#a95543192dafe07af53fed9ebccec45b6">frequencyChannel</a>)</td></tr>
<tr class="memdesc:a54ab6cbc670fb53cad929b3201a7d277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the radio's frequency channel.  <a href="classlora_point2_point.html#a54ab6cbc670fb53cad929b3201a7d277">More...</a><br /></td></tr>
<tr class="separator:a54ab6cbc670fb53cad929b3201a7d277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250816e8b0cf8ff892f5c3f1a0171d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a250816e8b0cf8ff892f5c3f1a0171d4e">setSpreadingFactor</a> (<a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a> <a class="el" href="_lo_ra_range_test___base_8ino.html#a5404e4628c9da2e3a3431a26a106ddd9">spreadingFactor</a>)</td></tr>
<tr class="memdesc:a250816e8b0cf8ff892f5c3f1a0171d4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the radio's spreading factor.  <a href="classlora_point2_point.html#a250816e8b0cf8ff892f5c3f1a0171d4e">More...</a><br /></td></tr>
<tr class="separator:a250816e8b0cf8ff892f5c3f1a0171d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df304846e142241dd4139842eaabe42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a8df304846e142241dd4139842eaabe42">setBandwidth</a> (<a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a> bandwidth)</td></tr>
<tr class="memdesc:a8df304846e142241dd4139842eaabe42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the radio's signal bandwidth.  <a href="classlora_point2_point.html#a8df304846e142241dd4139842eaabe42">More...</a><br /></td></tr>
<tr class="separator:a8df304846e142241dd4139842eaabe42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75ef4881a266d9d03f6575aaa4e7cc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#ad75ef4881a266d9d03f6575aaa4e7cc7">setTxPower</a> (int8_t <a class="el" href="_lo_ra_range_test___base_8ino.html#a5faa020feb44ee89aba5675c5713a3b6">txPower</a>)</td></tr>
<tr class="memdesc:ad75ef4881a266d9d03f6575aaa4e7cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the radio's transmission power.  <a href="classlora_point2_point.html#ad75ef4881a266d9d03f6575aaa4e7cc7">More...</a><br /></td></tr>
<tr class="separator:ad75ef4881a266d9d03f6575aaa4e7cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a80f91e6d0f60cf59aa6b14e0b07ab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a03a80f91e6d0f60cf59aa6b14e0b07ab">setTxMessage</a> (uint8_t const *txMsgContents, uint8_t const numChars)</td></tr>
<tr class="memdesc:a03a80f91e6d0f60cf59aa6b14e0b07ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an arbitrary array of bytes into the TX message struct's buffer.  <a href="classlora_point2_point.html#a03a80f91e6d0f60cf59aa6b14e0b07ab">More...</a><br /></td></tr>
<tr class="separator:a03a80f91e6d0f60cf59aa6b14e0b07ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85908618b5823207f5acef37e42f8f6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#ae85908618b5823207f5acef37e42f8f6">buildStringFromSerial</a> (Serial_ *dataPort)</td></tr>
<tr class="memdesc:ae85908618b5823207f5acef37e42f8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies input from a serial port to the TX message struct's buffer.  <a href="classlora_point2_point.html#ae85908618b5823207f5acef37e42f8f6">More...</a><br /></td></tr>
<tr class="separator:ae85908618b5823207f5acef37e42f8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06747f9f85a770e2e38ed392b8fb75ab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a06747f9f85a770e2e38ed392b8fb75ab">buildStringFromSerial</a> (Uart *dataPort)</td></tr>
<tr class="memdesc:a06747f9f85a770e2e38ed392b8fb75ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies input from a hardware UART serial port to the TX message struct's buffer.  <a href="classlora_point2_point.html#a06747f9f85a770e2e38ed392b8fb75ab">More...</a><br /></td></tr>
<tr class="separator:a06747f9f85a770e2e38ed392b8fb75ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81df63852b30cc06910e01814b3b7db0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a81df63852b30cc06910e01814b3b7db0">printBuffer</a> (uint8_t const *buf, uint8_t const bufLen, bool const ascii)</td></tr>
<tr class="memdesc:a81df63852b30cc06910e01814b3b7db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick way of printing an array of bytes.  <a href="classlora_point2_point.html#a81df63852b30cc06910e01814b3b7db0">More...</a><br /></td></tr>
<tr class="separator:a81df63852b30cc06910e01814b3b7db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c8ada16ac3c62f894bbdf8625d8805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a57c8ada16ac3c62f894bbdf8625d8805">printBuffer</a> (uint8_t const *buf, uint8_t const bufLen)</td></tr>
<tr class="memdesc:a57c8ada16ac3c62f894bbdf8625d8805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick way of printing an array of bytes. Assumes it has a message ID at index 0.  <a href="classlora_point2_point.html#a57c8ada16ac3c62f894bbdf8625d8805">More...</a><br /></td></tr>
<tr class="separator:a57c8ada16ac3c62f894bbdf8625d8805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fd291a2f1e09e15c479755130aa369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a12fd291a2f1e09e15c479755130aa369">startHeartbeats</a> ()</td></tr>
<tr class="memdesc:a12fd291a2f1e09e15c479755130aa369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start transmitting a brief 'heartbeat' signal to let any endpoints in the vicinity know that the base is still there.  <a href="classlora_point2_point.html#a12fd291a2f1e09e15c479755130aa369">More...</a><br /></td></tr>
<tr class="separator:a12fd291a2f1e09e15c479755130aa369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e384183250b58b6f0489111825407b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a8e384183250b58b6f0489111825407b8">stopHeartbeats</a> ()</td></tr>
<tr class="memdesc:a8e384183250b58b6f0489111825407b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop transmitting a brief 'heartbeat' signal to let any endpoints in the vicinity know that the base is still there.  <a href="classlora_point2_point.html#a8e384183250b58b6f0489111825407b8">More...</a><br /></td></tr>
<tr class="separator:a8e384183250b58b6f0489111825407b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ff608448149c3f0a87f9d237d55c7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a75ff608448149c3f0a87f9d237d55c7e">serviceTx</a> (uint8_t destAddress)</td></tr>
<tr class="memdesc:a75ff608448149c3f0a87f9d237d55c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits the current TX message's buffer contents to the specified destination.  <a href="classlora_point2_point.html#a75ff608448149c3f0a87f9d237d55c7e">More...</a><br /></td></tr>
<tr class="separator:a75ff608448149c3f0a87f9d237d55c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8354d230aade053ceb919efad742cd8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a8354d230aade053ceb919efad742cd8c">serviceTx</a> (uint8_t const destAddress, uint8_t *const buf, uint8_t const bufLen, bool const ascii)</td></tr>
<tr class="memdesc:a8354d230aade053ceb919efad742cd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits the current TX message's buffer contents to the specified destination.  <a href="classlora_point2_point.html#a8354d230aade053ceb919efad742cd8c">More...</a><br /></td></tr>
<tr class="separator:a8354d230aade053ceb919efad742cd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cfdcae12d6b6259445decfdc173be1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a62cfdcae12d6b6259445decfdc173be1">serviceRx</a> ()</td></tr>
<tr class="memdesc:a62cfdcae12d6b6259445decfdc173be1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if there is a pending message. If so, acknowleges the message and calls the appropriate handler function. Also handles timer ticking. <b>Call this often to avoid missing messages.</b>  <a href="classlora_point2_point.html#a62cfdcae12d6b6259445decfdc173be1">More...</a><br /></td></tr>
<tr class="separator:a62cfdcae12d6b6259445decfdc173be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a0e91bda10147e8262c5eacf3ec1e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a03a0e91bda10147e8262c5eacf3ec1e2">dataReq</a> (uint8_t const destAddress, uint8_t *const buf, uint8_t const numChars)</td></tr>
<tr class="memdesc:a03a0e91bda10147e8262c5eacf3ec1e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a data message to be sent to a given destination.  <a href="classlora_point2_point.html#a03a0e91bda10147e8262c5eacf3ec1e2">More...</a><br /></td></tr>
<tr class="separator:a03a0e91bda10147e8262c5eacf3ec1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed097a4a793822ec500c9aa774e214b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#afed097a4a793822ec500c9aa774e214b">linkChangeReq</a> (uint8_t const destAddress, <a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a> const <a class="el" href="_lo_ra_range_test___base_8ino.html#a5404e4628c9da2e3a3431a26a106ddd9">spreadingFactor</a>, <a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a> const <a class="el" href="_lo_ra_range_test___base_8ino.html#a7cbacb9677f68b0117c99514a87e261b">signalBandwidth</a>, <a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a> const <a class="el" href="_lo_ra_range_test___base_8ino.html#a95543192dafe07af53fed9ebccec45b6">frequencyChannel</a>, int8_t const <a class="el" href="_lo_ra_range_test___base_8ino.html#a5faa020feb44ee89aba5675c5713a3b6">txPower</a>)</td></tr>
<tr class="memdesc:afed097a4a793822ec500c9aa774e214b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that both the client and the server change their radio settings to those provided.  <a href="classlora_point2_point.html#afed097a4a793822ec500c9aa774e214b">More...</a><br /></td></tr>
<tr class="separator:afed097a4a793822ec500c9aa774e214b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed50e459cb85662bcd5b00e87d6505de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#aed50e459cb85662bcd5b00e87d6505de">serviceTimers</a> ()</td></tr>
<tr class="memdesc:aed50e459cb85662bcd5b00e87d6505de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance and check all timers in <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a>.  <a href="classlora_point2_point.html#aed50e459cb85662bcd5b00e87d6505de">More...</a><br /></td></tr>
<tr class="separator:aed50e459cb85662bcd5b00e87d6505de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0bd68fd38189bfbfd20de5c910c2150e"><td class="memItemLeft" align="right" valign="top">RH_RF95&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#a0bd68fd38189bfbfd20de5c910c2150e">rf95</a></td></tr>
<tr class="separator:a0bd68fd38189bfbfd20de5c910c2150e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b5ff9b369d2d04a033db3b4279e5f5"><td class="memItemLeft" align="right" valign="top">RHReliableDatagram&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlora_point2_point.html#ac3b5ff9b369d2d04a033db3b4279e5f5">rhReliableDatagram</a></td></tr>
<tr class="separator:ac3b5ff9b369d2d04a033db3b4279e5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class handling LoRa point to point communication using the RFM95 radio module. </p>
<dl class="section note"><dt>Note</dt><dd>This class currently only supports the US915 frequency band. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This class currently does not support automatic frequency hopping! Solutions using this are not guaranteed to comply with all regulatory requirements. For North-American users, refer to section 15.247 of the FCC's title 47, volume 1 regulations. This may be found at: <a href="https://www.govinfo.gov/content/pkg/CFR-2013-title47-vol1/pdf/CFR-2013-title47-vol1-sec15-247.pdf">https://www.govinfo.gov/content/pkg/CFR-2013-title47-vol1/pdf/CFR-2013-title47-vol1-sec15-247.pdf</a></dd></dl>
<p>This class uses the RadioHead packet library by AirSpayce for point-to-point communication. RadioHead's documentation and downloads may be found at: <a href="http://www.airspayce.com/mikem/arduino/RadioHead/">http://www.airspayce.com/mikem/arduino/RadioHead/</a> This class is designed for the Arduino platform. Other compilers are not tested and will probably not work.</p>
<p>This is the structure which the over the air transmissions follow: All communications are acknowleged. Requests for info are followed by responses. Indications of info are followed by confirmations.</p>
<p>Client Server Client Server (Base) (Sensor) (Base) (Sensor) | | | | |&ndash;Request(Req)-&gt;| |&lt;&ndash;Indication(Ind)&mdash;| |&lt;--&mdash;Ack----&mdash;| |------&mdash;Ack-----&mdash;&gt;| |&lt;-Response(Rsp)-| |&ndash;Confirmation(Cnf)-&gt;| |---&mdash;Ack---&mdash;&gt;| |&lt;-----&mdash;Ack------&mdash;| V V V V</p>
<p>Client Server Client Server (Base) (Sensor) (Base) (Sensor) | | | | |&ndash;Command(Cmd)-&gt;| |&lt;-Notification(Notif)-| |&lt;--&mdash;Ack----&mdash;| |-------&mdash;Ack-----&mdash;&gt;| V V V V</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd><p class="startdd">Support regions other than US915. </p>
<p class="interdd">Clean up class and put all members in alpabetical order. </p>
<p class="interdd">Add automatic frequency hopping. </p>
<p class="interdd">Add an option to use LoRaWAN or RadioHead's mesh networking system. </p>
<p class="interdd">Break out serial-port processing into a separate class. </p>
<p class="interdd">Add sleep and over-the-air wake functionality. </p>
<p class="interdd">Convert to Python module for CircuitPython users. </p>
<p class="enddd">Move enums and their operators into this class so that Doxygen documents them properly. </p>
</dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3c57795d788088f1f26ea23db1408dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c57795d788088f1f26ea23db1408dbd">&#9670;&nbsp;</a></span>loraPoint2Point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">loraPoint2Point::loraPoint2Point </td>
          <td>(</td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>_thisAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>rfm95CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>rfm95Int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>rfm95Rst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structuser_callbacks__t.html">userCallbacks_t</a> const &amp;&#160;</td>
          <td class="paramname"><em>userCallbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a new <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_thisAddress</td><td>Unique address of the RFM95. This can be any 0-256 integer number. </td></tr>
    <tr><td class="paramname">rfm95CS</td><td>Arduino pinout location of RFM95 chip select pin. </td></tr>
    <tr><td class="paramname">rfm95Int</td><td>Arduino pinout location of RFM95 interrupt pin. </td></tr>
    <tr><td class="paramname">rfm95Rst</td><td>Arduino pinout location of RFM95 reset pin. </td></tr>
    <tr><td class="paramname">userCallbacks</td><td>Struct of pointers to user callback functions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae85908618b5823207f5acef37e42f8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85908618b5823207f5acef37e42f8f6">&#9670;&nbsp;</a></span>buildStringFromSerial() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t loraPoint2Point::buildStringFromSerial </td>
          <td>(</td>
          <td class="paramtype">Serial_ *&#160;</td>
          <td class="paramname"><em>dataPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies input from a serial port to the TX message struct's buffer. </p>
<p>Can also be used to trigger debug functionality following the subsequent 3 or 4 character command structure:</p>
<p><code>![Parameter][Value]</code></p>
<p>And then entering a newline character (<code>\n</code>).</p>
<p>! Signals the start of a debug command. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight">Parameter   </th><th class="markdownTableHeadLeft">Setting   </th><th class="markdownTableHeadLeft">Values    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">S   </td><td class="markdownTableBodyLeft">Spreading factor   </td><td class="markdownTableBodyLeft">0 to 10    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">B   </td><td class="markdownTableBodyLeft">Signal bandwidth   </td><td class="markdownTableBodyLeft">0 to 3    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">C   </td><td class="markdownTableBodyLeft">Frequency channel   </td><td class="markdownTableBodyLeft">0 to 15    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">P   </td><td class="markdownTableBodyLeft">Transmission power   </td><td class="markdownTableBodyLeft">1 to 20   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataPort</td><td>The serial port (hardware UART object or USB serial object) which should be scanned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t The number of characters added to the TX buffer.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd><p class="startdd">Test changing frequency channel above 9. </p>
<p class="interdd">Allow user to enter values from the settings' respective tables instead of entering the indices to those tables. </p>
<p class="interdd">Create a c-string, not an array of bytes. </p>
<p class="enddd">Write to a separate intermediate buffer instead of directly to the TX buffer to avoid wiping out the contents of the TX buffer. </p>
</dd></dl>

</div>
</div>
<a id="a06747f9f85a770e2e38ed392b8fb75ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06747f9f85a770e2e38ed392b8fb75ab">&#9670;&nbsp;</a></span>buildStringFromSerial() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t loraPoint2Point::buildStringFromSerial </td>
          <td>(</td>
          <td class="paramtype">Uart *&#160;</td>
          <td class="paramname"><em>dataPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies input from a hardware UART serial port to the TX message struct's buffer. </p>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

</div>
</div>
<a id="a03a0e91bda10147e8262c5eacf3ec1e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a0e91bda10147e8262c5eacf3ec1e2">&#9670;&nbsp;</a></span>dataReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::dataReq </td>
          <td>(</td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>destAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>numChars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests a data message to be sent to a given destination. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Complete prototype and definition. </dd></dl>

</div>
</div>
<a id="a654b426de814eaa2f441d693f9a9e06c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654b426de814eaa2f441d693f9a9e06c">&#9670;&nbsp;</a></span>getFrequencyChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a> loraPoint2Point::getFrequencyChannel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the radio's current frequency channel setting. </p>
<dl class="section return"><dt>Returns</dt><dd>frequencyChannel_t The current frequency channel. </dd></dl>

</div>
</div>
<a id="a48b3fd74144e00d789e74311c4f2418c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b3fd74144e00d789e74311c4f2418c">&#9670;&nbsp;</a></span>getLastAckSNR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loraPoint2Point::getLastAckSNR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the signal to noise ratio of the last received radio transmission. </p>
<dl class="section return"><dt>Returns</dt><dd>int Signal to noise ratio of the last received radio transmission, in dB. </dd></dl>

</div>
</div>
<a id="ae5c642b9e9841eba2caf3f4569ccc944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5c642b9e9841eba2caf3f4569ccc944">&#9670;&nbsp;</a></span>getPacketErrorFraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float const  &amp; loraPoint2Point::getPacketErrorFraction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the fraction of data messages that have failed to receive an acknowlegement from their intended destination. </p>
<dl class="section return"><dt>Returns</dt><dd>float const&amp; Fraction from 0 to 1. </dd></dl>

</div>
</div>
<a id="ada23cb027980432f0f7cb7e40228d58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada23cb027980432f0f7cb7e40228d58d">&#9670;&nbsp;</a></span>getSignalBandwidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a> loraPoint2Point::getSignalBandwidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the radio's current signal bandwidth setting. </p>
<dl class="section return"><dt>Returns</dt><dd>signalBandwidth_t The current signal bandwidth. </dd></dl>

</div>
</div>
<a id="a786f2c15682635bde05010abf95dd69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786f2c15682635bde05010abf95dd69d">&#9670;&nbsp;</a></span>getSpreadingfactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a> loraPoint2Point::getSpreadingfactor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the radio's current spreading factor setting. </p>
<dl class="section return"><dt>Returns</dt><dd>spreadingFactor_t The current spreading factor. </dd></dl>

</div>
</div>
<a id="affc9297c7b7fe3639f69b9015c80839f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc9297c7b7fe3639f69b9015c80839f">&#9670;&nbsp;</a></span>getTxPower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t loraPoint2Point::getTxPower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the radio's current transmission power setting. </p>
<dl class="section return"><dt>Returns</dt><dd>int8_t The current transmission power, in dBm.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>dBm is a decibel quantity calculated with respect to 1mW. i.e.; p_dBm = 10*log10(p_mW), p_mW = 10^(p_dBm/10) </dd></dl>

</div>
</div>
<a id="afed097a4a793822ec500c9aa774e214b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed097a4a793822ec500c9aa774e214b">&#9670;&nbsp;</a></span>linkChangeReq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::linkChangeReq </td>
          <td>(</td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>destAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a> const&#160;</td>
          <td class="paramname"><em>spreadingFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a> const&#160;</td>
          <td class="paramname"><em>signalBandwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a> const&#160;</td>
          <td class="paramname"><em>frequencyChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t const&#160;</td>
          <td class="paramname"><em>txPower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests that both the client and the server change their radio settings to those provided. </p>
<p>It works like this:</p><ol type="1">
<li>After recieving the request, the server acknowleges the transmission, changes its radio settings, and waits for a short delay.</li>
<li>Upon recieving the acknowlegement, the client changes its radio settings.</li>
<li>After both change their radio settings, the server sends a response to test the new link settings.</li>
<li>If the client does not recieve the response in 3 seconds, it reverts its settings.</li>
<li>Upon recieving the response, the client stops and resets the timer that will cause it to revert its settings on timeout.</li>
<li><p class="startli">If the server does not recieve the acknowlegement, the server reverts its settings.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>If the server does not recieve the response-acknowlegement, it should send an indication for the client to reset its radio settings before resetting its own settings. This will prevent a situation in which the client changes its settings but the server resets its own settings.</dd></dl>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destAddress</td><td>The address of the other unit (the server) that should have its link changed. </td></tr>
    <tr><td class="paramname">spreadingFactor</td><td>The new spreading factor (0-5) that both units should adopt. </td></tr>
    <tr><td class="paramname">signalBandwidth</td><td>The new signal bandwidth (0-3) that both units should adopt. </td></tr>
    <tr><td class="paramname">frequencyChannel</td><td>The new frequency channel (0-15) that both units should adopt. </td></tr>
    <tr><td class="paramname">txPower</td><td>The new transmission power (1-20dBm) that both units should adopt. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57c8ada16ac3c62f894bbdf8625d8805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c8ada16ac3c62f894bbdf8625d8805">&#9670;&nbsp;</a></span>printBuffer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::printBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quick way of printing an array of bytes. Assumes it has a message ID at index 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the array of bytes to print. </td></tr>
    <tr><td class="paramname">bufLen</td><td>Number of bytes to print. This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81df63852b30cc06910e01814b3b7db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81df63852b30cc06910e01814b3b7db0">&#9670;&nbsp;</a></span>printBuffer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::printBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>bufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>ascii</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quick way of printing an array of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to the array of bytes to print. </td></tr>
    <tr><td class="paramname">bufLen</td><td>Number of bytes to print. </td></tr>
    <tr><td class="paramname">ascii</td><td>True: Prints buffer as characters. False: Prints buffer as hexadecimal number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62cfdcae12d6b6259445decfdc173be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cfdcae12d6b6259445decfdc173be1">&#9670;&nbsp;</a></span>serviceRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::serviceRx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if there is a pending message. If so, acknowleges the message and calls the appropriate handler function. Also handles timer ticking. <b>Call this often to avoid missing messages.</b> </p>

</div>
</div>
<a id="aed50e459cb85662bcd5b00e87d6505de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed50e459cb85662bcd5b00e87d6505de">&#9670;&nbsp;</a></span>serviceTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::serviceTimers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advance and check all timers in <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a>. </p>
<p>This is automatically called in serviceRx, but if serviceRx is not called for whatever reason, call this regularly in the main loop. </p>

</div>
</div>
<a id="a8354d230aade053ceb919efad742cd8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8354d230aade053ceb919efad742cd8c">&#9670;&nbsp;</a></span>serviceTx() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::serviceTx </td>
          <td>(</td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>destAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>bufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>ascii</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits the current TX message's buffer contents to the specified destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destAddress</td><td>The address of the destination, specified on that unit in the constructor of <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a>. </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to the array of bytes to send. </td></tr>
    <tr><td class="paramname">bufLen</td><td>Number of bytes to send. </td></tr>
    <tr><td class="paramname">ascii</td><td>True: Sending ascii text. False: Sending binary data. Purely changes format of debug printing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75ff608448149c3f0a87f9d237d55c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ff608448149c3f0a87f9d237d55c7e">&#9670;&nbsp;</a></span>serviceTx() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::serviceTx </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>destAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits the current TX message's buffer contents to the specified destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destAddress</td><td>The address of the destination, specified on that unit in the constructor of <a class="el" href="classlora_point2_point.html" title="Class handling LoRa point to point communication using the RFM95 radio module.">loraPoint2Point</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8df304846e142241dd4139842eaabe42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df304846e142241dd4139842eaabe42">&#9670;&nbsp;</a></span>setBandwidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::setBandwidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#ada25b7db2eee722b8553ff5c96c733a4">signalBandwidth_t</a>&#160;</td>
          <td class="paramname"><em>bandwidth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the radio's signal bandwidth. </p>
<p>Invalid inputs set the radio to RFM95_DFLT_SIGNAL_BANDWIDTH. Triggers a link change indication to the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bandwidth</td><td>The signal bandwidth to which you wish to set this radio. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a54ab6cbc670fb53cad929b3201a7d277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ab6cbc670fb53cad929b3201a7d277">&#9670;&nbsp;</a></span>setFrequencyChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::setFrequencyChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#aa85f58be91b12c063309db6f0a594fab">frequencyChannel_t</a>&#160;</td>
          <td class="paramname"><em>frequencyChannel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the radio's frequency channel. </p>
<p>Invalid inputs set the radio to RFM95_DFLT_FREQ_CHANNEL. Triggers a link change indication to the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequencyChannel</td><td>The frequency channel to which you wish to set this radio.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>Return instead of setting the radio to RFM95_DFLT_FREQ_CHANNEL. </dd></dl>

</div>
</div>
<a id="a250816e8b0cf8ff892f5c3f1a0171d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a250816e8b0cf8ff892f5c3f1a0171d4e">&#9670;&nbsp;</a></span>setSpreadingFactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::setSpreadingFactor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lora_point2_point_protocol_8h.html#ad1fd05b6f6ee46967568a0e101ae35ee">spreadingFactor_t</a>&#160;</td>
          <td class="paramname"><em>spreadingFactor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the radio's spreading factor. </p>
<p>Invalid inputs set the radio to RFM95_DFLT_SPREADING_FACTOR. Triggers a link change indication to the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spreadingFactor</td><td>The spreading factor to which you wish to set this radio. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03a80f91e6d0f60cf59aa6b14e0b07ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a80f91e6d0f60cf59aa6b14e0b07ab">&#9670;&nbsp;</a></span>setTxMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t loraPoint2Point::setTxMessage </td>
          <td>(</td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>txMsgContents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>numChars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an arbitrary array of bytes into the TX message struct's buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txMsgContents</td><td>Pointer to an array of bytes. </td></tr>
    <tr><td class="paramname">numChars</td><td>Number of bytes to copy from the array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t Number of bytes copied into the buffer.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><b>For debugging only.</b> Not guaranteed to be memory safe.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd><p class="startdd">Smarter way of doing this to avoid clobbering the contents of the txMessage. </p>
<p class="enddd">Replace with data request in application. </p>
</dd></dl>

</div>
</div>
<a id="ad75ef4881a266d9d03f6575aaa4e7cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75ef4881a266d9d03f6575aaa4e7cc7">&#9670;&nbsp;</a></span>setTxPower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::setTxPower </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>txPower</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the radio's transmission power. </p>
<p>Invalid inputs set the radio to RFM95_DFLT_TX_POWER_dBm. Triggers a link change indication to the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txPower</td><td>The transmission power to which you wish to set this radio, in dBm. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f5ddfecd154a54fbce644e6f3c9a1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5ddfecd154a54fbce644e6f3c9a1c3">&#9670;&nbsp;</a></span>setupRadio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool loraPoint2Point::setupRadio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the radio and manager to default settings for US915. <em>Make sure to call this once in the application's setup function!</em> </p>
<dl class="section return"><dt>Returns</dt><dd>true Successful. </dd>
<dd>
false Failed.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Support other regions than US915. </dd></dl>

</div>
</div>
<a id="a12fd291a2f1e09e15c479755130aa369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fd291a2f1e09e15c479755130aa369">&#9670;&nbsp;</a></span>startHeartbeats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::startHeartbeats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start transmitting a brief 'heartbeat' signal to let any endpoints in the vicinity know that the base is still there. </p>

</div>
</div>
<a id="a8e384183250b58b6f0489111825407b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e384183250b58b6f0489111825407b8">&#9670;&nbsp;</a></span>stopHeartbeats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loraPoint2Point::stopHeartbeats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop transmitting a brief 'heartbeat' signal to let any endpoints in the vicinity know that the base is still there. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0bd68fd38189bfbfd20de5c910c2150e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd68fd38189bfbfd20de5c910c2150e">&#9670;&nbsp;</a></span>rf95</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RH_RF95 loraPoint2Point::rf95</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac3b5ff9b369d2d04a033db3b4279e5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b5ff9b369d2d04a033db3b4279e5f5">&#9670;&nbsp;</a></span>rhReliableDatagram</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RHReliableDatagram loraPoint2Point::rhReliableDatagram</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="lora_point2_point_protocol_8h_source.html">loraPoint2PointProtocol.h</a></li>
<li><a class="el" href="lora_point2_point_protocol_8cpp.html">loraPoint2PointProtocol.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
